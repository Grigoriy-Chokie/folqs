{%- liquid
    assign padding_top = section.settings.padding_top | append: 'px'
    assign padding_bottom = section.settings.padding_bottom | append: 'px'
    assign padding_top_mobile = section.settings.padding_top_mobile | append: 'px'
    assign padding_bottom_mobile = section.settings.padding_bottom_mobile | append: 'px'

    assign background_color = section.settings.background_color
    assign heading = section.settings.heading
-%}

{%- style -%}
    .benefit-icons--{{section.id}} {
        padding-top: {{padding_top}};
        padding-bottom: {{padding_bottom}};
    }
    @media(max-width: 768px) {
        .benefit-icons--{{section.id}} {
            padding-top: {{padding_top_mobile}};
            padding-bottom: {{padding_bottom_mobile}};
        }
    }
{%- endstyle -%}

{{- "component-benefits-with-icons.css" | asset_url | stylesheet_tag -}}
<div class="benefit-icons benefit-icons--{{section.id}}" style="--background: {{background_color}}">
    <div class="benefit-icons__container page-width">
        {% if heading != blank %}
            <h2 class="benefit-icons__title">{{heading}}</h2> 
        {% endif %}
        <div class="benefit-icons__grid grid-icons" >
            {% for block in section.blocks %}
                {%- liquid
                    assign type_of_svg = block.settings.type_of_svg
                    assign custom_svg = block.settings.custom_svg
                    assign heading = block.settings.heading
                    assign info = block.settings.info
                -%}
                <div class="grid-icons__item">
                    {%- unless type_of_svg == "custom" and custom_svg == blank -%}
                        <div class="grid-icons__item-decor">
                            {% render "icons-benefit", type:type_of_svg, custom_svg:custom_svg %}
                        </div>
                    {%- endunless -%}
                    <div class="grid-icons__item-content grid-item__content">
                        {% if heading != blank %}
                            <h3 class="grid-item__content-title">{{- heading -}}</h3>  
                        {% endif %}
                        {% if info != blank %}
                            <p class="grid-item__content-info">{{- info -}}</p>   
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

{% schema %}
{
    "name": "Benefits with icons",
    "tag": "section",
    "max_blocks": 4,
    "blocks": [
        {
            "type": "icon",
            "name": "Icon",
            "settings": [
                {
                    "type": "select",
                    "id": "type_of_svg",
                    "label": "Type of icon",
                    "options": [
                        {
                            "value": "star",
                            "label": "Star",
                            "group": "Default"
                        },
                        {
                            "value": "microscope",
                            "label": "Microscope",
                            "group": "Default"
                        },
                        {
                            "value": "lab",
                            "label": "Lab",
                            "group": "Default"
                        },
                        {
                            "value": "custom",
                            "label": "Custom",
                            "group": "Custom"
                        }
                    ]
                },
                {
                    "type": "html",
                    "id": "custom_svg",
                    "label": "Code for custom svg"
                },
                {
                    "type": "text",
                    "id": "heading",
                    "label": "Heading",
                    "default": "Antioxidant and Anti-Inflammatory"
                },
                {
                    "type": "text",
                    "id": "info",
                    "label": "Information",
                    "default": "Supports neurotransmitter function for improved cognitive processes"
                }
            ]
        }
    ],
    "settings": [
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Padding top",
            "default": 96
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Padding bottom",
            "default": 96
        },
        {
            "type": "range",
            "id": "padding_top_mobile",
            "min": 0,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Padding top mobile",
            "default": 45
        },
        {
            "type": "range",
            "id": "padding_bottom_mobile",
            "min": 0,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Padding bottom mobile",
            "default": 45
        },
        {
            "type": "color",
            "id": "background_color",
            "label": "Background color",
            "default": "#F2F7FB"
        },
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Benefits of Daily Use"
        }
    ],
    "presets": [
        {
            "name": "Benefits with icons"
        }
    ]
}
{% endschema %}