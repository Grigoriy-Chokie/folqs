{{ 'section-action-link.css' | asset_url | stylesheet_tag }}
{% liquid
  assign padding_desktop_top = section.settings.padding_top
  assign padding_desktop_bottom = section.settings.padding_bottom
  assign padding_top_mobile = section.settings.padding_top_mobile
  assign padding_bottom_mobile = section.settings.padding_bottom_mobile
  assign link_title = section.settings.link_title
  assign link_title_mobile = section.settings.link_title_mobile
  assign richtext = section.settings.richtext
  assign link_icon = section.settings.icon
  assign link = section.settings.link | default: shop.secure_url
%}
{%- style -%}
  #shopify-section-{{ section.id }} {
    padding-top: {{ padding_desktop_top }}px;
    padding-bottom: {{ padding_desktop_bottom }}px;
  }

  @media(max-width: 768px) {
    #shopify-section-{{ section.id }} {
      padding-top: {{ padding_top_mobile }}px;
      padding-bottom: {{ padding_bottom_mobile }}px;
    }
  }
{%- endstyle -%}

{% capture icon %}
  {% if link_icon != blank %}
    <div class="action-link__icon">
      {{ link_icon | image_url: width: 1000 | image_tag }}
    </div>
  {% endif %}
{% endcapture %}

<div class="action-link__wrapper">
  {% if link_title != blank %}
    <a href="{{ link }}" class="action-link">
      {{ icon }}
      {% if link_title != blank %}<div class="action-link__title action-link__title--desktop">{{ link_title }}</div>{% endif %}
      {% if link_title_mobile != blank %}<div class="action-link__title action-link__title--mobile">{{ link_title_mobile }}</div>{% endif %}
      {{ icon }}
    </a>
  {% endif %}

  {% if richtext != blank %}
    <div class="action-link__richtext">{{ richtext }}</div>
  {% endif %}
</div>

{% schema %}
  {
    "name": "Link",
    "settings": [
      {
        "type": "header",
        "content": "Section's space between"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 200,
        "step": 2,
        "default": 0,
        "unit": "px",
        "label": "Padding Top"
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 200,
        "step": 2,
        "default": 0,
        "unit": "px",
        "label": "Padding Bottom"
      },
      {
        "type": "range",
        "id": "padding_top_mobile",
        "min": 0,
        "max": 200,
        "step": 2,
        "default": 0,
        "unit": "px",
        "label": "Padding Top Mobile"
      }, 
      {
        "type": "range",
        "id": "padding_bottom_mobile",
        "min": 0,
        "max": 200,
        "step": 2,
        "default": 0,
        "unit": "px",
        "label": "Padding Bottom Mobile"
      },
      {
        "type": "richtext",
        "id": "link_title",
        "label": "Link Title"
      },
      {
        "type": "richtext",
        "id": "link_title_mobile",
        "label": "Link Title Mobile"
      },
      {
        "type": "richtext",
        "id": "richtext",
        "label": "Richtext"
      },
      {
        "type": "image_picker",
        "id": "icon",
        "label": "Icon"
      },
      {
        "type": "url",
        "id": "link",
        "label": "Link"
      }
    ],
    "presets": [
      {
        "name": "Link"
      }
    ]
  }
{% endschema %}