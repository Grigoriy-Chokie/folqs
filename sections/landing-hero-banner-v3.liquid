{{ 'section-landing-hero-banner.css' | asset_url | stylesheet_tag }}
{%- if section.settings.is_secondary_styles -%}
{{ 'section-landing-hero-banner-secondary.css' | asset_url | stylesheet_tag }}
{%- endif -%}

{{ 'lading-hero-banner-v3.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign additional_style_files = section.settings.additional_style_files | newline_to_br | split: '<br />'

  if additional_style_files != blank
    for file in additional_style_files
     echo file | asset_url | stylesheet_tag
    endfor
  endif
-%}

{% liquid
  assign image_desktop = section.settings.image_desktop
  assign image_mobile = section.settings.image_mobile | default: image_desktop
  assign image_order_mobile = section.settings.image_order_mobile
  assign background = section.settings.background
  assign sizes = '(min-width: 750px) 50vw, 100vw'
  assign widths = '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'
  assign fetch_priority = 'auto'
  if section.index == 1
    assign fetch_priority = 'high'
  endif

  assign padding_top = section.settings.padding_top
  assign padding_bottom = section.settings.padding_bottom
  assign padding_top_mobile = section.settings.padding_top_mobile
  assign padding_bottom_mobile = section.settings.padding_bottom_mobile
%}

{% render 'section-paddings-v3',
  padding_top: padding_top,
  padding_bottom: padding_bottom,
  padding_top_mobile: padding_top_mobile,
  padding_bottom_mobile: padding_bottom_mobile
%}

{% style %}
  #shopify-section-{{ section.id }} {
    background: {{ background }};
  }
{% endstyle %}

{% if section.settings.bg_image_mobile != blank %}
  {{
    section.settings.bg_image_mobile
    | image_url: width: 3840
    | image_tag:
      width: section.settings.bg_image_mobile.width,
      sizes: sizes,
      widths: widths,
      fetchpriority: fetch_priority,
      alt: section.settings.bg_image_mobile.alt,
      class: "bg-image-mobile bg-image-c"
  }}
{% endif %}
{% if section.settings.bg_image != blank %}
  {{
    section.settings.bg_image
    | image_url: width: 3840
    | image_tag:
      width: section.settings.bg_image.width,
      sizes: sizes,
      widths: widths,
      fetchpriority: fetch_priority,
      alt: section.settings.bg_image.alt,
      class: "bg-image-desktop bg-image-c"
  }}
{% endif %}

<div class="landing-hero-banner__container landing-hero-banner__container--{{ section.settings.banner_style }} landing-hero-banner__container--{{ template.suffix }} {% if section.settings.is_secondary_styles %}landing-hero-banner--secondary{% endif %}">
  <div class="landing-hero-banner__image-desktop">
    {%- if image_desktop != blank -%}
      {{
        image_desktop
        | image_url: width: 3840
        | image_tag:
          width: image_desktop.width,
          sizes: sizes,
          widths: widths,
          fetchpriority: fetch_priority,
          alt: image_desktop.alt
      }}
    {%- else -%}
      {{ 'image' | placeholder_svg_tag }}
    {%- endif -%}
  </div>
  <div class="landing-hero-banner__content section-{{ section.id }}--padding">
    <div class="landing-hero-banner__image-mobile" style="order: {{ image_order_mobile }};">
      {%- if image_mobile != blank -%}
        {{
          image_mobile
          | image_url: width: 3840
          | image_tag:
            width: image_mobile.width,
            sizes: sizes,
            widths: widths,
            fetchpriority: fetch_priority,
            alt: image_mobile.alt
        }}
      {%- else -%}
        {{ 'image' | placeholder_svg_tag }}
      {%- endif -%}
    </div>
    {%- for block in section.blocks -%}
      {%- case block.type -%}
        {%- when 'title' -%}
          <h2 class="landing-hero-banner__title landing-hero-banner__title--{{ block.settings.title_size }} {% if block.settings.custom_strong_style != false %} landing-hero-banner__title--custom{% endif %}" style="{% if block.settings.title_strong_color != blank %}--strong-color: {{ block.settings.title_strong_color }};{% endif %} order: {{ block.settings.block_order_mobile }}">{{ block.settings.title }}</h2>
        {%- when 'highlighted_text' -%}
          {%- capture style_variables -%}
            --highlighted-text-color: {{ block.settings.text_color }};
            --highlighted-text-background: {{ block.settings.text_background }};
            --highlighted-text-order: {{ block.settings.block_order_mobile }};
          {%- endcapture -%}
          
          <p class="landing-hero-banner__highlighted-text  {% if block.settings.block_order_mobile == 2 %}margin{% endif %} {% if block.settings.font_thin != false %}landing-hero-banner__highlighted-text--thin{% endif %} landing-hero-banner__showing--{{ block.settings.show_on }}{% if block.settings.highlighted_text_mobile != blank %} has-mobile{% endif %}" style="{{ style_variables }}">
            {% assign text_words = block.settings.highlighted_text | split: ' ' %}
            {% assign text_words_mobile = block.settings.highlighted_text_mobile | split: ' ' %}
            {% if block.settings.text != blank %}
              <span>{{ block.settings.text }}</span>
            {% endif %}
            <span class="second-line">
              {% if block.settings.text_second_line %}
                {{ block.settings.text_second_line }}
                {% for word in text_words_mobile %}
                  <span class="highlighted_text mobile">{{- word | append: ' ' -}}</span>
                {% endfor %}
                {%- for word in text_words -%}
                  <span class="highlighted_text desktop">{{- word | append: ' ' -}}</span>
                {%- endfor -%}
              {% endif %}
            </span>
            {% if block.settings.mobile_additional_color_text != blank %}
              <span class="third-line">{{ block.settings.mobile_additional_color_text }}</span>
            {% endif %}
          </p>
        {%- when 'richtext' -%}
          <div {% if block.settings.text_shadow != blank %}style="--text-shadow: {{ block.settings.text_shadow }}"{% endif %} class="landing-hero-banner__richtext landing-hero-banner__showing--{{ block.settings.show_on }}" style="order: {{ block.settings.block_order_mobile }}">
            {{ block.settings.text }}
          </div>
        {%- when 'icons_with_text' -%}
          <div class="landing-hero-banner__icons-with-text-container {% if block.settings.block_order_mobile == 2 %}margin{% endif %}" style="order: {{ block.settings.block_order_mobile }};">
            {% if block.settings.main_text != blank %}
              <div class="main-text">{{ block.settings.main_text }}</div>
            {% endif %}
            {%- for i in (1..5) -%}
              {%- liquid
                assign icon_index = 'icon_' | append: i
                assign icon_index_mobile = 'icon_mobile_' | append: i
                assign text_index = 'text_' | append: i
                assign text_index_mobile = 'text_mobile_' | append: i
                assign block_id = 'block' | append: block.id | append: i
                assign mobile_width_image = 'mobile_width_' | append: i
              -%}
              {% assign width_value = block.settings[mobile_width_image] | append: 'px' %}
              <style>
                #{{ block_id }} .icon {
                  width: {{ width_value }};
                }
              </style>
              <div class="landing-hero-banner__icon-with-text" id="{{ block_id }}">
                <div class="icon">
                  {{ block.settings[icon_index] | image_url: width: 104 | image_tag: class: 'icon-desktop'  }}
                  {{ block.settings[icon_index_mobile] | image_url: width: 104 | image_tag: class: 'icon-mobile' }}
                </div>
                {% if block.settings[text_index] != blank or block.settings[text_index_mobile] != blank %}
                  
                  <p class="text">
                    {% if block.settings[text_index] != blank %}
                      <span class="text-desktop">{{ block.settings[text_index] | newline_to_br }}</span>
                    {% endif %}
                    {% if block.settings[text_index_mobile] != blank %}
                      <span class="text-mobile">{{ block.settings[text_index_mobile] | newline_to_br }}</span>
                    {% endif %}
                  </p>
                {% endif %}
              </div>
            {%- endfor -%}
          </div>

        {%- when 'info-icons-text' -%}
        <div class="landing-hero-banner__info-icons-text-container {% if block.settings.block_order_mobile == 2 %}margin{% endif %}" style="order: {{ block.settings.block_order_mobile }};">
            {%- for i in (1..6) -%}
              {%- liquid
                assign icon_index = 'icon_' | append: i
                assign text_index = 'text_' | append: i
              -%}
              {% if block.settings[icon_index] != blank or block.settings[text_index] != blank %}
                <div class="landing-hero-banner__icon-info-text">
                  {% if block.settings[icon_index] != blank %}
                    <div class="icon">
                      {{ block.settings[icon_index] | image_url: width: 50 | image_tag: class: 'icon-desktop'  }}
                    </div>
                  {% endif %}
                  {% if  block.settings[text_index] != blank %}
                    <p class="text">
                      <span class="text-desktop">{{ block.settings[text_index] | newline_to_br }}</span>
                    </p>
                  {% endif %}
                </div>
              {% endif %}
            {%- endfor -%}
          </div>
        
        {%- when 'reviews_cta' -%}
          
          <div class="landing-hero-banner__reviews-cta {% if block.settings.reviews_background != blank %}landing-hero-banner__reviews-cta--background{% endif %}" style="{% if block.settings.reviews_background != blank %} --cta-review-background: {{ block.settings.reviews_background }};{% endif %} order: {{ block.settings.block_order_mobile }};">
            {% if block.settings.reviews_image != blank or block.settings.reviews_stars != blank or block.settings.reviews_text != blank %}
              <div class="landing-hero-banner__reviews">
                {%- if block.settings.reviews_image != blank -%}
                  <div class="landing-hero-banner__reviews-image">
                    {{- block.settings.reviews_image | image_url: width: 200 | image_tag -}}
                  </div>
                {%- endif -%}
                {%- if block.settings.reviews_stars != blank-%}
                  <div class="landing-hero-banner__reviews-stars">
                    {{- block.settings.reviews_stars | image_url: width: 275 | image_tag -}}
                  </div>
                {%- endif -%}
                <p class="landing-hero-banner__reviews-text">
                  <span class="desktop-text">{{- block.settings.reviews_text -}}</span>
                  <span class="mobile-text">{{- block.settings.reviews_text_mobile -}}</span>
                </p>
              </div>
            {% endif %}
            <div class="landing-hero-banner__cta-container">
              <a href="{{ block.settings.cta_link }}" class="landing-hero-banner__cta" style="--cta-background: {{ block.settings.cta_background }};">
                {{- block.settings.cta_text -}}
                {{ 'icon-landing-button-arrow.svg' | inline_asset_content }}
              </a>
              <div class="landing-hero-banner__guarantee-badge">
                {%- if block.settings.guarantee_icon != blank -%}
                  {{ block.settings.guarantee_icon | image_url: width: 90 | image_tag }}
                {%- endif -%}
                {%- if block.settings.guarantee_text != blank -%}
                  {{ block.settings.guarantee_text }}
                {%- endif -%}
              </div>
            </div>
          </div>
      {%- endcase -%}
    {%- endfor -%}
  </div>
</div>

{% schema %}
{
    "name": "Landing hero banner v3",
    "class": "landing-hero-banner landing-hero-banner-v3",
    "tag":"section",
    "settings": [
      {
        "type": "image_picker",
        "id": "bg_image",
        "label": "Background image desktop"
      },
      {
        "type": "image_picker",
        "id": "bg_image_mobile",
        "label": "Background image mobile"
      },
       {
        "type": "select",
        "id": "banner_style",
        "label": "Banner Style",
        "options": [
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "alternative",
            "label": "Alternative"
          }
        ],
        "default": "default"
      },
      {
        "type": "header",
        "content": "Image"
      },
      {
        "type": "image_picker",
        "id": "image_desktop",
        "label": "Image desktop"
      },
      {
        "type": "image_picker",
        "id": "image_mobile",
        "label": "Image mobile"
      },
      {
        "type": "number",
        "id": "image_order_mobile",
        "label": "Image order mobile",
        "default": 2
      },
      {
        "type": "header",
        "content": "Background"
      },
      {
        "type": "color_background",
        "id": "background",
        "label": "Background",
        "default": "#FEEFE8"
      },
      {
        "type": "header",
        "content": "Secondaty styles"
      },
      {
        "type": "checkbox",
        "id": "is_secondary_styles",
        "label": "Secondary banner styles",
        "default": false
      },
      {
        "type": "header",
        "content": "Additional style files"
      },
      {
        "type": "textarea",
        "id": "additional_style_files",
        "label": "Additional style file names",
        "info": "Use new line for separate files, add .css at the end of the each file"
      },
      {
        "type": "header",
        "content": "Paddings"
      },
      {
        "type": "range",
        "id": "padding_top",
        "label": "Padding top",
        "min": 0,
        "max": 200,
        "step": 2,
        "unit": "px",
        "default": 120
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "label": "Padding bottom",
        "min": 0,
        "max": 200,
        "step": 2,
        "unit": "px",
        "default": 90
      },
      {
        "type": "range",
        "id": "padding_top_mobile",
        "label": "Padding top mobile",
        "min": 0,
        "max": 200,
        "step": 2,
        "unit": "px",
        "default": 66
      },
      {
        "type": "range",
        "id": "padding_bottom_mobile",
        "label": "Padding bottom mobile",
        "min": 0,
        "max": 200,
        "step": 2,
        "unit": "px",
        "default": 40
      }
    ],
    "blocks": [
      {
        "name": "Title",
        "type": "title",
        "settings": [
          {
            "type": "richtext",
            "id": "title",
            "label": "Title",
            "default": "<p>Why Thousands Are Adding This <em>'Liquid Gold'</em> to Their Morning Routine</p>",
            "info": "Use italic formatting for highlight text with svg"
          },
          {
            "type": "number",
            "id": "block_order_mobile",
            "label": "Block order mobile",
            "default": 1
          },
          {
            "type": "select",
            "id": "title_size",
            "label": "Title size",
            "default": "large",
            "options": [
              {
                "value": "large",
                "label": "Large"
              },
              {
                "value": "small",
                "label": "Small"
              }
            ]
          },
          {
            "type": "checkbox",
            "id": "custom_strong_style",
            "label": "Custom Strong Styles",
            "default": false
          },
          {
            "type": "color",
            "id": "title_strong_color",
            "label": "Strong Color"
          }
        ]
      },
      {
        "name": "Info icons/text",
        "type": "info-icons-text",
        "settings": [
          {
            "type": "header",
            "content": "Icon/text 1"
          },
          {
            "type": "image_picker",
            "id": "icon_1",
            "label": "icon 1"
          },
          {
            "type": "text",
            "id": "text_1",
            "label": "Text 1"
          },
          {
            "type": "header",
            "content": "Icon/text 2"
          },
          {
            "type": "image_picker",
            "id": "icon_2",
            "label": "icon 2"
          },
          {
            "type": "text",
            "id": "text_2",
            "label": "Text 2"
          },
          {
            "type": "header",
            "content": "Icon/text 3"
          },
          {
            "type": "image_picker",
            "id": "icon_3",
            "label": "icon 3"
          },
          {
            "type": "text",
            "id": "text_3",
            "label": "Text 3"
          },
          {
            "type": "header",
            "content": "Icon/text 4"
          },
          {
            "type": "image_picker",
            "id": "icon_4",
            "label": "icon 4"
          },
          {
            "type": "text",
            "id": "text_4",
            "label": "Text 4"
          },
          {
            "type": "header",
            "content": "Icon/text 5"
          },
          {
            "type": "image_picker",
            "id": "icon_5",
            "label": "icon 5"
          },
          {
            "type": "text",
            "id": "text_5",
            "label": "Text 5"
          },
          {
            "type": "header",
            "content": "Icon/text 6"
          },
          {
            "type": "image_picker",
            "id": "icon_6",
            "label": "icon 6"
          },
          {
            "type": "text",
            "id": "text_6",
            "label": "Text 6"
          },
          {
            "type": "number",
            "id": "block_order_mobile",
            "label": "Block order mobile",
            "default": 5
          },
        ]
      },
      {
        "name": "Highlighted text",
        "type": "highlighted_text",
        "settings": [
          {
            "type": "text",
            "id": "text",
            "label": "Text first line",
            "default": "One simple morning addition can change everything."
          },
          {
            "type": "text",
            "id": "text_second_line",
            "label": "Text second line"
          },
          {
            "type": "text",
            "id": "highlighted_text",
            "label": "Highlighted text"
          },
          {
            "type": "text",
            "id": "highlighted_text_mobile",
            "label": "Highlighted text mobile"
          },
          {
            "type": "text",
            "id": "mobile_additional_color_text",
            "label": "Mobile additional color text"
          },
          {
            "type": "checkbox",
            "id": "font_thin",
            "label": "Font Thin",
            "default": false
          },
          {
            "type": "color",
            "id": "text_color",
            "label": "text_color",
            "default": "#005EB8"
          },
          {
            "type": "color_background",
            "id": "text_background",
            "label": "Text background",
            "default": "#E9F4FF"
          },
          {
            "type": "number",
            "id": "block_order_mobile",
            "label": "Block order mobile",
            "default": 2
          },
          {
            "type": "select",
            "id": "show_on",
            "label": "Show on devices",
            "default": "both",
            "options": [
              {
                "value": "desktop-only",
                "label": "Desktop only"
              },
              {
                "value": "mobile-only",
                "label": "Mobile only"
              },
              {
                "value": "both",
                "label": "All devices"
              }
            ]
          }
        ]
      },
      {
        "name": "Richtext",
        "type": "richtext",
        "settings": [
          {
            "type": "richtext",
            "id": "text",
            "label": "Text"
          },
          {
            "type": "number",
            "id": "block_order_mobile",
            "label": "Block order mobile",
            "default": 2
          },
          {
            "type": "select",
            "id": "show_on",
            "label": "Show on devices",
            "default": "both",
            "options": [
              {
                "value": "desktop-only",
                "label": "Desktop only"
              },
              {
                "value": "mobile-only",
                "label": "Mobile only"
              },
              {
                "value": "both",
                "label": "All devices"
              }
            ]
          },
          {
            "type": "text",
            "id": "text_shadow",
            "label": "Text shadow"
          }
        ]
      },
      {
        "name": "Icons with text",
        "type": "icons_with_text",
        "settings": [
          {
            "type": "text",
            "id": "main_text",
            "label": "Main text",
            "default": "As seen on"
          },
          {
            "type": "header",
            "content": "Icon with text 1"
          },
          {
            "type": "image_picker",
            "id": "icon_1",
            "label": "Icon 1"
          },
          {
            "type": "textarea",
            "id": "text_1",
            "label": "Text 1",
            "default": "Helps Immunity"
          },
          {
            "type": "image_picker",
            "id": "icon_mobile_1",
            "label": "Icon mobile 1"
          },
          {
            "type": "range",
            "id": "mobile_width_1",
            "min": 1,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Mobile icon width 1",
            "default": 50
          },
          {
            "type": "textarea",
            "id": "text_mobile_1",
            "label": "Text mobile 1",
            "default": "Helps Immunity"
          },
          {
            "type": "header",
            "content": "Icon with text 2"
          },
          {
            "type": "image_picker",
            "id": "icon_2",
            "label": "Icon 2"
          },
          {
            "type": "textarea",
            "id": "text_2",
            "label": "Text 2",
            "default": "Supports Gut Health"
          },
          {
            "type": "image_picker",
            "id": "icon_mobile_2",
            "label": "Icon mobile 2"
          },
           {
            "type": "range",
            "id": "mobile_width_2",
            "min": 1,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Mobile icon width 2",
            "default": 50
          },
          {
            "type": "textarea",
            "id": "text_mobile_2",
            "label": "Text mobile 2",
            "default": "Helps Immunity"
          },
          {
            "type": "header",
            "content": "Icon with text 3"
          },
          {
            "type": "image_picker",
            "id": "icon_3",
            "label": "Icon 3"
          },
          {
            "type": "textarea",
            "id": "text_3",
            "label": "Text 3",
            "default": "Nurtures Skin and Hair"
          },
          {
            "type": "image_picker",
            "id": "icon_mobile_3",
            "label": "Icon mobile 3"
          },
           {
            "type": "range",
            "id": "mobile_width_3",
            "min": 1,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Mobile icon width 3",
            "default": 50
          },
          {
            "type": "textarea",
            "id": "text_mobile_3",
            "label": "Text mobile 3",
            "default": "Helps Immunity"
          },
          {
            "type": "header",
            "content": "Icon with text 4"
          },
          {
            "type": "image_picker",
            "id": "icon_4",
            "label": "Icon 4"
          },
          {
            "type": "textarea",
            "id": "text_4",
            "label": "Text 4",
            "default": "Nurtures Skin and Hair"
          },
          {
            "type": "image_picker",
            "id": "icon_mobile_4",
            "label": "Icon mobile 4"
          },
           {
            "type": "range",
            "id": "mobile_width_4",
            "min": 1,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Mobile icon width 4",
            "default": 50
          },
          {
            "type": "textarea",
            "id": "text_mobile_4",
            "label": "Text mobile 4",
            "default": "Helps Immunity"
          },
          {
            "type": "header",
            "content": "Icon with text 5"
          },
          {
            "type": "image_picker",
            "id": "icon_5",
            "label": "Icon 5"
          },
          {
            "type": "textarea",
            "id": "text_5",
            "label": "Text 5",
            "default": "Nurtures Skin and Hair"
          },
          {
            "type": "image_picker",
            "id": "icon_mobile_5",
            "label": "Icon mobile 5"
          },
           {
            "type": "range",
            "id": "mobile_width_5",
            "min": 1,
            "max": 100,
            "step": 1,
            "unit": "px",
            "label": "Mobile icon width 5",
            "default": 50
          },
          {
            "type": "textarea",
            "id": "text_mobile_5",
            "label": "Text mobile 5",
            "default": "Helps Immunity"
          },
          {
            "type": "number",
            "id": "block_order_mobile",
            "label": "Block order mobile",
            "default": 5
          }
        ]
      },
      {
        "name": "Reviews with CTA",
        "type": "reviews_cta",
        "settings": [
          {
            "type": "header",
            "content": "Reviews"
          },
          {
            "type": "image_picker",
            "id": "reviews_image",
            "label": "Reviews image"
          },
          {
            "type": "image_picker",
            "id": "reviews_stars",
            "label": "Reviews stars"
          },
          {
            "type": "text",
            "id": "reviews_text",
            "label": "Reviews text",
            "default": "over 25,254 Five Star Reviews"
          },
          {
            "type": "text",
            "id": "reviews_text_mobile",
            "label": "Reviews text mobile",
            "default": "over 25,254 Reviews"
          },
          {
            "type": "header",
            "content": "CTA"
          },
          {
            "type": "text",
            "id": "cta_text",
            "label": "CTA text",
            "default": "Try Folqs Today"
          },
          {
            "type": "url",
            "id": "cta_link",
            "label": "CTA link"
          },
          {
            "type": "color_background",
            "id": "cta_background",
            "label": "CTA background",
            "default": "#FF6A13"
          },
          {
            "type": "color_background",
            "id": "reviews_background",
            "label": "Reviews Bacgkround"
          },
          {
            "type": "header",
            "content": "Guarantee badge"
          },
          {
            "type": "image_picker",
            "id": "guarantee_icon",
            "label": "Badge icon"
          },
          {
            "type": "text",
            "id": "guarantee_text",
            "label": "Badge text",
            "default": "90-Day Money-Back Guarantee"
          },
          {
            "type": "number",
            "id": "block_order_mobile",
            "label": "Block order mobile",
            "default": 4
          }
        ]
      }
    ],
    "presets": [
    {
      "name": "Landing hero banner v3",
      "category": "Banners",
      "blocks": [
        {
          "type": "title"
        },
        {
          "type": "highlighted_text"
        },
        {
          "type": "icons_with_text"
        },
        {
          "type": "reviews_cta"
        }
      ]
    }
  ]
}
{% endschema %}